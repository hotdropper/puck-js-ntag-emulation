function f(c,a,d){a={bytesize:8,parity:"none",stopbits:1,rx:a};this.buf="";this.serial=c;this.serial.setup(d,a);c=function(a){return function(b){a.tgamReceive(b)}}(this);this.serial.on("data",c)}f.prototype.tgamReceive=function(c){for(this.buf+=c;0<this.buf.length&&170!=this.buf.charCodeAt(0);)this.buf=this.buf.substr(1);if(!(2>this.buf.length))if(170!=this.buf.charCodeAt(1))this.buf="";else{for(;170==this.buf.charCodeAt(2);)this.buf=this.buf.substr(1);if(!(4>this.buf.length)){var a=this.buf.charCodeAt(2);
if(170<a)this.buf="";else if(!(this.buf.length<a+4)){var d=this.buf.charCodeAt(a+3),e=0;c=new ArrayBuffer(a);for(var b=0;b<a;b++)c[b]=this.buf.charCodeAt(3+b),e+=c[b];this.buf="";if((e&255^255)==d){a=0;for(e=[];a<c.length;){for(b=0;85==c[a];)b+=256,a++;b|=c[a];a++;d=1;128<=(b&255)&&(d=c[a],a++);if(2<=b&&7>=b)e.push({field:"poorSignal heart attention meditation raw marker".split(" ")[b-2],value:c[a]});else if(131==b)for(b=0;8>b;b++)e.push({field:"delta theta lowAlpha highAlpha lowBeta highBeta lowGamma midGamma".split(" ")[b],
value:16384*c[a+3*b]+256*c[a+3*b+1]+c[a+3*b+2]});else e.push({field:b.toString(16),ptr:a,vlen:d});a+=d}for(b=0;b<e.length;b++)this.emit("data",e[b])}}}}};exports.connect=function(c,a,d){return new f(c,a,d)}