function h(){var a=this.utc?new Date:(new Date).local(),a=[a.getMinutes(),a.getHours(),a.getDate(),a.getMonth(),a.getDay()];b.x=a.toString();for(var c in f){for(var e=f[c],g=e.time,h=!0,d=0;d<g.length;d++)if(!("*"==g[d]||"number"==typeof g[d]&&g[d]==a[d]||Array.isArray(g[d])&&-1!=g[d].indexOf(a[d]))){h=!1;break}h&&("cb"in e?e.cb.call(e.cbThis||this,e.args):this.emit(c),"n"in e&&1>--e.n&&delete f[c])}}function k(a){a=a||{};if(a.id&&a.time){"string"==typeof a.time&&(a.time=a.time.split(" "));
for(var c in a.time)if("*"!=a.time[c])if("string"==typeof a.time[c]&&-1!=a.time[c].indexOf(",")&&(a.time[c]=a.time[c].split(",")),Array.isArray(a.time[c]))for(var b in a.time[c])a.time[c][b]=parseInt(a.time[c][b],10);else a.time[c]=parseInt(a.time[c],10);f[a.id]=a}else a.id&&delete f[a.id];return f}function l(a){var c=this;b.dt=6E4*(void 0===a?c.tp:a);b.t&&(b.t=clearTimeout(b.t));b.i&&(b.i=clearInterval(b.i));0!==b.dt&&(b.os=Math.floor(b.dt-1E3*getTime()%b.dt),b.t=setTimeout(function(){b.t=null;b.i=
setInterval(function(){h.call(c)},b.dt);h.call(c)},b.os))}var f={},b={dt:0,os:0,t:null,i:null,x:""};(new Date).local||(Date.prototype.local=function(){return this});exports=function(a,c){return{utc:c?!0:!1,tp:a||5,init:l,job:k,tmr:b}}