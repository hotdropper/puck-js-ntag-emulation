function c(a,b){this.i2c=a;this.options=b||{};void 0===this.options.DST&&(this.options.DST=!0);this.dstStatus=!1}function e(a){return 10*(a>>4)+(a&15)}function f(a){return("0"+a).substr(-2)}c.prototype.isDST=function(a,b,d){return this.options.DST?3===b&&7===d&&23<a?!0:10===b&&7===d&&23<a?!1:3<b&&11>b?!0:!1:!1};c.prototype.setDow=function(a){a="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" ").indexOf(a);0>a?print("Not a valid day"):this.i2c.writeTo(104,[3,parseInt(1+
a,16)])};c.prototype.setDate=function(a,b,d){this.i2c.writeTo(104,[4,parseInt(a,16)]);this.i2c.writeTo(104,[5,parseInt(b,16)]);this.i2c.writeTo(104,[6,parseInt(d,16)]);this.dstStatus=this.isDST(a,b,d)};c.prototype.setTime=function(a,b){this.i2c.writeTo(104,[0,0]);this.i2c.writeTo(104,[1,parseInt(b,16)]);this.i2c.writeTo(104,[2,parseInt(a,16)])};c.prototype.readDateTime=function(){this.i2c.writeTo(104,0);var a=this.i2c.readFrom(104,7),b=e(a[0]),d=e(a[1]),c=e(a[2]),g=e(a[3]),h=e(a[4]),k=e(a[5]),a=e(a[6]);
1===c&&0===d&&0===b&&!0===this.isDST(h,k,g)&&!1===this.dstStatus&&(this.i2c.writeTo(104,[2,2]),c=2,this.dstStatus=!0);2===c&&0===d&&0===b&&!1===this.isDST(h,k,g)&&!0===this.dstStatus&&(this.i2c.writeTo(104,[2,1]),c=1,this.dstStatus=!1);g=f(h)+"/"+f(k)+"/"+f(a);b=f(c)+":"+f(d)+":"+f(b);return g+" "+b};exports.connect=function(a,b){return new c(a,b)}