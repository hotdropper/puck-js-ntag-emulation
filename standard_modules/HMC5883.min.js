function d(b,a,c){this.i2c=b;this.mode="undefined"!==typeof c?c:1;this.drdy=a;this.a=30;pinMode(a,"input");this.i2c.writeTo(this.a,1);this.ngain=this.gain=this.i2c.readFrom(this.a,1)[0]>>5;this.i2c.writeTo(this.a,[2,this.mode]);this.scale=new Float32Array([.73,.92,1.22,1.52,2.27,2.56,3.03,4.35])}exports.connect=function(b,a,c){return new d(b,a,c)};d.prototype.readc=function(){this.i2c.writeTo(this.a,3);var b=this.scale[this.gain];this.gain=this.ngain;var a=this.i2c.readFrom(this.a,6),
c=a[0]<<8|a[1],d=a[2]<<8|a[3];a=a[4]<<8|a[5];c=32767<c?c-65536:c;d=32767<d?d-65536:d;a=32767<a?a-65536:a;return{x:c*b,y:d*b,z:a*b,overflow:-4096==c||-4096==d||-4096==a}};d.prototype.setMode=function(b){this.i2c.writeTo(this.a,[2,b&3]);this.mode=b&3};d.prototype.setup=function(b,a,c){this.i2c.writeTo(this.a,[0,(c?c&3:0)|("undefined"!==typeof a?a&7:4)<<2|(b&3)<<5])};d.prototype.setGain=function(b){this.i2c.writeTo(this.a,[1,(b&7)<<5]);this.i2c.writeTo(this.a,1);this.ngain=this.i2c.readFrom(this.a,1)[0]>>
5;if(1===this.mode){var a=this;setWatch(function(){a.readc()},this.drdy)}};d.prototype.reads=function(b){this.onwatch=b;var a=this;setWatch(function(){a.onwatch(a.readc())},this.drdy);this.setMode(1)}