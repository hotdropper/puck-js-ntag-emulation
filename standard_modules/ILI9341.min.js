exports.connect=function(b,e,c,h,k){function f(a){c.write(0);b.write(a,e)}function a(a,d){c.write(0);b.write(a,e);b.send(d);c.write(1)}var l=Graphics.createCallback(240,320,16,{setPixel:function(a,d,g){c.reset();b.write(42,e);b.write(a>>8,a,a+1>>8,a+1);b.write(43,e);b.write(d>>8,d,d+1>>8,d+1);b.write(44,e);b.write(g>>8,g);c.set()},fillRect:function(a,d,g,f,h){c.reset();b.write(42,e);b.write(a>>8,a,g>>8,g);b.write(43,e);b.write(d>>8,d,f>>8,f);b.write(44,e);b.write({data:String.fromCharCode(h>>
8,h),count:(g-a+1)*(f-d+1)});c.set()}});c.write(1);e.write(1);h.write(0);setTimeout(function(){h.write(1);setTimeout(function(){f(1);setTimeout(function(){f(40);c.write(1);a(207,[0,131,48]);a(237,[100,3,18,129]);a(232,[133,1,121]);a(203,[57,44,0,52,2]);a(247,32);a(234,[0,0]);a(192,38);a(193,17);a(197,[53,62]);a(199,190);a(54,72);a(58,85);a(177,[0,27]);a(242,8);a(38,1);a(224,[31,26,24,10,15,6,69,135,50,10,7,2,7,5,0]);a(225,[0,37,39,5,16,9,58,120,77,5,24,13,56,58,31]);a(183,7);a(182,[10,130,39,0]);
f(17);c.write(1);setTimeout(function(){f(41);c.write(1);setTimeout(function(){void 0!==k&&k()},100)},100)},5)},5)},1);return l}