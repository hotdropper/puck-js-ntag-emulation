function b(a,c,d){this.i2c=a;this.options=c;this.deviceAddress=d;this.currentLsb=c.maximumExpectedCurrent/32768}b.prototype.readWord=function(a){this.i2c.writeTo(this.deviceAddress,a);a=this.i2c.readFrom(this.deviceAddress,2);return a[1]|a[0]<<8};b.prototype.readSigned=function(a){a=this.readWord(a);return a&32768?a-65536:a};b.prototype.writeWord=function(a,c){this.i2c.writeTo(this.deviceAddress,[a,c>>8,c])};b.prototype.initDevice=function(){this.readWord(0);this.writeWord(0,32768);if(14751!==
this.readWord(0))throw Error("Probably not an INA219");var a=Math.round(.04096/(this.currentLsb*this.options.rShunt));this.writeWord(5,a);return{calibrationFactor:a}};b.prototype.getBusRaw=function(){return this.readWord(2)>>3};b.prototype.getBusMilliVolts=function(){return 4*this.getBusRaw()};b.prototype.getShuntRaw=function(){return this.readWord(1)>>3};b.prototype.getShuntMicroVolts=function(){return 10*this.getShuntRaw()};b.prototype.getBusMicroAmps=function(){return this.readSigned(4)*this.currentLsb};
b.prototype.getBusMicroWatts=function(){return this.readSigned(3)*this.currentLsb*20};exports.connect=function(a,c,d){var e={maximumExpectedCurrent:3.2768,rShunt:.1};return new b(a,c||e,d||64)}