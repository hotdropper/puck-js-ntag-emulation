exports.connect=function(b,e,g){var c=[],h=0,k=function(){var a=-1,d;for(d in e){digitalWrite(e,1<<d);var c=digitalRead(b),f;for(f in b)c&1<<f&&(a=f+d*b.length)}digitalWrite(e,4294967295);return a},m=function(){var a=digitalRead(b);if(a!=h){h=a;for(var d in c)clearWatch(c[d]);a=k();l();0<=a&&g(a)}},l=function(){for(var a in b)c[a]=setWatch(m,b[a],{repeat:!0,edge:"both"})};(function(){for(var a in b)pinMode(b[a],"input_pulldown");digitalWrite(e,4294967295)})();void 0!==g&&l();return{read:k}}