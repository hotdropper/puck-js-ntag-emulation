function c(b,e,c,d){c&&c.write(0);this.spi=b;this.ad=d?(d<<1)+64:64;this.cs=e;c&&(this.rst=c,this.rst.write(1));this.n=65535;this.olat=this.pu=0;this.A0=new a(1,this);this.A1=new a(2,this);this.A2=new a(4,this);this.A3=new a(8,this);this.A4=new a(16,this);this.A5=new a(32,this);this.A6=new a(64,this);this.A7=new a(128,this);this.B0=new a(256,this);this.B1=new a(512,this);this.B2=new a(1024,this);this.B3=new a(2048,this);this.B4=new a(4096,this);this.B5=new a(8192,this);this.B6=new a(16384,
this);this.B7=new a(32768,this)}function a(b,a){this.b=b;this.p=a}exports.connect=function(b,a,f,d){return new c(b,a,f,d)};c.prototype.s=function(b,a){this.spi.write([this.ad,b,a&255,a>>8],this.cs)};c.prototype.r=function(b){return this.spi.send([this.ad+1,b,0,0],this.cs)};c.prototype.m=function(b,a){if(0>["input","output","input_pullup"].indexOf(a))throw"Pin mode "+a+" not available";this.s(0,"output"==a?this.n&=~b:this.n|=b);this.s(12,"input_pullup"==a?this.pu|=b:this.pu&=~b)};c.prototype.write=
function(a,c){var b=1<<a;this.olat&=~b;this.s(18,this.olat|=b*c)};c.prototype.writePort=function(a){this.olat=a;this.s(18,this.olat)};c.prototype.read=function(a){var b=this.r(18);return(b[0]+(b[1]<<8)&1<<a)>>a};c.prototype.readPort=function(){var a=this.r(18);return a[0]+(a[1]<<8)};c.prototype.mode=function(a,c){this.m(1<<a,c)};a.prototype.set=function(){this.p.s(18,this.p.olat|=this.b)};a.prototype.reset=function(){this.p.s(18,this.p.olat&=~this.b)};a.prototype.write=function(a){this.p.s(18,a?this.p.olat|=
this.b:this.p.olat&=~this.b)};a.prototype.read=function(){var a=255<this.b?this.b>>8:this.b;return this.p.r(18)[255<this.b?1:0]&a?1:0};a.prototype.mode=function(a){this.p.m(this.b,a)}