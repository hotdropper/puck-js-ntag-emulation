function e(a,b,c,d,e,f){this.taps=b;this.pots=a;this.spi=c;this.cs=d;this.i2c=e;this.i2ca=f}exports.connectI2C=function(a,b,c,d){if((129==c||257==c)&&5>b&&0<b)return new e(b,c,void 0,void 0,a,void 0==d?40:40|d);throw"Unsupported part";};exports.connectSPI=function(a,b,c,d){if((129==d||257==d||128==d||256==d)&&5>c&&0<c)return new e(c,d,a,b);throw"Unsupported part";};e.prototype.setVal=function(a,b,c){if(b>=this.taps||0>b)throw"Out of range";this.CMD((2>a?0:4)+a+2*(void 0===c?0:c),0,b)};
e.prototype.incr=function(a){this.CMD((2>a?0:4)+a,1)};e.prototype.decr=function(a){this.CMD((2>a?0:4)+a,2)};e.prototype.getVal=function(a,b){b=void 0===b?0:b;if(a>this.pots||0>b)throw"Invalid value provided";var c=this.CMD((2>a?0:4)+a+2*b,3);return c[1]+(257==this.taps?(c[0]&1)<<8:0)};e.prototype.setTCON=function(a,b,c,d,e){var f=2>a?4:10,g=this.CMD(f,3);this.CMD(f,0,((b<<3)+(c<<2)+(d<<1)+e<<(a&1?4:0))+(g[1]&(a&1?7:240)))};e.prototype.getStatus=function(){var a={},b=this.CMD(4,3,0);if(2<this.pots){var c=
this.CMD(10,3,0);a.pot2=(c[1]&240)>>4;a.pot3=c[1]&15}c=this.CMD(5,3,0);a.status=c[1]+((c[0]&3)<<8);a.pot0=(b[1]&240)>>4;a.pot1=b[1]&15;return a};e.prototype.CMD=function(a,b,c){if(isNaN(a+b)||2<b&&void 0===c)throw"Invalid parameter";var d=a<<4|b<<2;a=1==b||2==b?a<<4|b<<2:[a<<4|b<<2|c>>8,3==b?0:c&255];if(void 0!=this.spi)return this.spi.send(a,this.cs);this.i2c.writeTo(this.i2ca,d);if(3==b)return this.i2c.readFrom(this.i2ca,2)}