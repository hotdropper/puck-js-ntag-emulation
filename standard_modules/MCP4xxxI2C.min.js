function d(a,b,c,d){this.taps=c;this.pots=b;this.i2c=a;this.i2ca=void 0===d?40:40|d}exports.connect=function(a,b,c,g){if((129==c||257==c)&&5>b&&0<b)return new d(a,b,c,g);throw"Only 129 or 257 tap devices with 1-4 pots supported.";};d.prototype.getReg=function(a,b){if(a>this.pots||0>a)throw"Invalid pot number";return 2>a?a+2*b:a+4+2*b};d.prototype.setVal=function(a,b,c){if(val>=this.taps||0>val)throw"Invalid value provided";a=this.getReg(a,void 0===c?0:c);this.CMD(a,0,b)};d.prototype.incr=
function(a){a=this.getReg(a,0);this.CMD(a,1,value)};d.prototype.decr=function(a){a=this.getReg(a,0);this.CMD(a,2,value)};d.prototype.getVal=function(a,b){if(val>this.taps||0>val)throw"Invalid value provided";var c=this.getReg(a,void 0===b?0:b);this.CMD(c,3);c=this.i2c.readFrom(this.i2ca,2);return c[1]+(c[0]<<8)};d.prototype.setTCON=function(a,b,c,d,h){if(2>a)var e=4;else e=10,a-=2;this.CMD(e,3);var f=this.i2c.readFrom(this.i2ca,2);b=(b<<3)+(c<<2)+(d<<1)+h;b=1==a?(b<<4)+(f[1]&15):b+(f[1]&240);this.CMD(e,
0,b)};d.prototype.getStatus=function(){var a={};this.i2c.writeTo(this.i2ca,76);var b=this.i2c.readFrom(this.i2ca,2);this.i2c.writeTo(this.i2ca,92);var c=this.i2c.readFrom(this.i2ca,2),c=c[1]+(c[0]<<8);if(2<this.pots){this.i2c.writeTo(this.i2ca,172);var d=this.i2c.readFrom(this.i2ca,2);a.pot2=(d[1]&240)>>4;a.pot3=d[1]&15}a.status=c;a.pot0=(b[1]&240)>>4;a.pot1=b[1]&15;return a};d.prototype.CMD=function(a,b,c){a=a<<4|b<<2;256==c&&(a+=1);0==b?this.i2c.writeTo(this.i2ca,[a,c&255]):this.i2c.writeTo(this.i2ca,
a)}