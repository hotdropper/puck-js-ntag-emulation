function d(c,a){this.i2c=c;this.i2cAddress=a;this.timerId=null;this.reset=!1;this.center={x:2043,y:2031.5};this.scaleX=225/230;this.i2cAddress|=48}d.prototype.getMagneticValue=function(c){var a=this;if(this.timerId)throw Error("Measuring in progress");this.i2c.writeTo(this.i2cAddress,[0,1]);this.timerId=setTimeout(function(){a.timerId=null;a.i2c.writeTo(a.i2cAddress,0);var b=a.i2c.readFrom(a.i2cAddress,5);if(b[0]&8)throw Error("Measuring not finished");c(((b[1]&15)<<8)+b[2],((b[3]&15)<<
8)+b[4])},5)};d.prototype.getAngle=function(c,a){var b=180/Math.PI*Math.atan2((this.center.x-c)*this.scaleX,a-this.center.y);0>b&&(b+=360);return b};d.prototype.restoreSensorCharacteristic=function(){this.i2c.writeTo(this.i2cAddress,[0,this.reset?4:2]);this.reset=!this.reset};d.prototype.calibrate=function(c,a,b,d){this.center.x=(a+c)/2;this.center.y=(d+b)/2;this.scaleX=(d-b)/(a-c)};exports.connect=function(c,a){return new d(c,a)}