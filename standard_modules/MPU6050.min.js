function c(a,b){this.i2c=a;this.addr=void 0===b||!1===b?104:!0===b?105:b;this.initialize()}exports.connect=function(a,b){return new c(a,b)};c.prototype.initialize=function(){this.setClockSource(1);this.setFullScaleAccelRange(0);this.setFullScaleGyroRange(0);this.setSleepEnabled(!1)};c.prototype.reset=function(){this.writeBit(107,7,!0)};c.prototype.readBytes=function(a,b){this.i2c.writeTo(this.addr,a);return this.i2c.readFrom(this.addr,b)};c.prototype.writeBytes=function(a,b){this.i2c.writeTo(this.addr,
[a].concat(b))};c.prototype.readBit=function(a,b){return this.readBytes(a,1)[0]&1<<b};c.prototype.writeBit=function(a,b,d){var e=this.readBytes(a,1)[0];this.writeBytes(a,0!=d?e|1<<b:e&~(1<<b))};c.prototype.readBits=function(a,b,d){a=this.readBytes(a,1)[0];return(a&(1<<d)-1<<b-d+1)>>b-d+1};c.prototype.writeBits=function(a,b,d,e){var g=this.readBytes(a,1)[0],f=(1<<d)-1<<b-d+1;g=g&~f|e<<b-d+1&f;this.writeBytes(a,g)};c.prototype.readS16=function(a){this.i2c.writeTo(this.addr,a);a=this.i2c.readFrom(this.addr,
2);a=a[0]<<8|a[1];return 32767<a?a-65536:a};c.prototype.readSXYZ=function(a){this.i2c.writeTo(this.addr,a);var b=this.i2c.readFrom(this.addr,6);a=b[0]<<8|b[1];var d=b[2]<<8|b[3];b=b[4]<<8|b[5];return[32767<a?a-65536:a,32767<d?d-65536:d,32767<b?b-65536:b]};c.prototype.setClockSource=function(a){this.writeBits(107,2,3,a)};c.prototype.setFullScaleAccelRange=function(a){this.writeBits(28,4,2,a);this.acc_lsb_sens=Math.pow(2,14-a)};c.prototype.setFullScaleGyroRange=function(a){this.writeBits(27,4,2,a);
this.gyro_lsb_sens=131/Math.pow(2,a)};c.prototype.setSleepEnabled=function(a){this.writeBit(107,6,a)};c.prototype.getRotation=function(){return this.readSXYZ(67)};c.prototype.getDegreesPerSecond=function(){var a=this;return this.getRotation().map(function(b){return b/a.gyro_lsb_sens})};c.prototype.getAcceleration=function(){return this.readSXYZ(59)};c.prototype.getGravity=function(){var a=this;return this.getAcceleration().map(function(b){return b/a.acc_lsb_sens})};c.prototype.getTemperature=function(){return this.readS16(65)/
340+36.53};c.prototype.setMemoryBank=function(a,b,d){a&=31;(void 0===d?0:d)&&(a|=32);(void 0===b?0:b)&&(a|=64);this.writeBytes(109,a)};c.prototype.setMemoryStartAddress=function(a){this.writeBytes(110,a)};c.prototype.writeMemoryBlock=function(a,b,d){this.setMemoryBank(b);this.setMemoryStartAddress(d);for(var e,g=a.length,f=0;f<g;){e=16;f+e>g&&(e=g-f);e>256-d&&(e=256-d);var h=a.slice(f,f+e);this.writeBytes(111,h);this.setMemoryBank(b);this.setMemoryStartAddress(d);var k=this.readBytes(111,e);if(k.toString()!=
h.toString())return console.log("WriteMemoryBlock FAILED for bank: "+b+" / address: "+d+" / chunkSize: "+e+" / dataSize: "+g+" / i: "+f),console.log("Data TO BE written: "+h),console.log("Data READ BACK: "+k),!1;f+=e;d+=e;d%=256;f<g&&(0==d&&b++,this.setMemoryBank(b),this.setMemoryStartAddress(d))}return!0};c.prototype.readMemoryBlock=function(a,b,d){this.setMemoryBank(b);this.setMemoryStartAddress(d);for(var e,g=new Uint8Array(a),f=0;f<a;)e=16,f+e>a&&(e=a-f),e>256-d&&(e=256-d),g.set(this.readBytes(111,
e),f),f+=e,d+=e,d%=256,f<a&&(0==d&&b++,this.setMemoryBank(b),this.setMemoryStartAddress(d))};c.prototype.setSlaveAddress=function(a,b){3<a||this.writeBytes(37+3*a,b)};c.prototype.setI2CMasterModeEnabled=function(a){this.writeBit(106,5,a)};c.prototype.resetI2CMaster=function(){this.writeBit(106,1,!0)};c.prototype.getOTPBankValid=function(){return this.readBit(0,0)};c.prototype.setOTPBankValid=function(a){this.writeBit(0,0,a)};c.prototype.getXGyroOffsetTC=function(){return this.readBits(0,6,6)};c.prototype.setXGyroOffsetTC=
function(a){this.writeBits(0,6,6,a)};c.prototype.getYGyroOffsetTC=function(){return this.readBits(1,6,6)};c.prototype.setYGyroOffsetTC=function(a){this.writeBits(1,6,6,a)};c.prototype.getZGyroOffsetTC=function(){return this.readBits(2,6,6)};c.prototype.setZGyroOffsetTC=function(a){this.writeBits(2,6,6,a)}