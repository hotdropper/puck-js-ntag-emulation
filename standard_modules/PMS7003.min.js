function f(a,b){var c=(a[30]<<8)+a[31],d=E.sum(a.slice(0,30));if(c!=d)return{checksumOk:!1};c={dCF1:{pm1:(a[4]<<8)+a[5],pm2_5:(a[6]<<8)+a[7],pm10:(a[8]<<8)+a[9]},dAtm:{pm1:(a[10]<<8)+a[11],pm2_5:(a[12]<<8)+a[13],pm10:(a[14]<<8)+a[15]},checksumOk:!0};b&&(c.d7_0_3um=(a[16]<<8)+a[17],c.d8_0_5um=(a[18]<<8)+a[19],c.d9_1_0um=(a[20]<<8)+a[21],c.d10_2_5um=(a[22]<<8)+a[23],c.d11_5_0um=(a[24]<<8)+a[25],c.d12_10_0um=(a[26]<<8)+a[27]);return c}function e(a,b,c,d){if(!(a instanceof Serial))throw'"serialPort" parameter is not a serial port!';
if(!(b instanceof Pin))throw'"rx" parameter is not a Pin!';this.buffer=new Uint8Array(32);this.bufferIndex=0;this.callback=c;this.details=!!d;a.setup(9600,{rx:b});a.on("data",this.onSerial.bind(this))}e.prototype.onSerial=function(a){var b=this;0==this.bufferIndex&&66!==a.charCodeAt()||E.toUint8Array(a).forEach(function(a){b.buffer[b.bufferIndex++]=a;32===b.bufferIndex&&(b.callback&&b.callback(f(b.buffer,b.details)),b.bufferIndex=0)})};exports.connect=function(a,b,c,d){return new e(a,b,c,d)}