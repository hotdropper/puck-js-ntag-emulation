function e(b,c,a){var d="";for(i=0;i<b.length;i++)d+="0"==b[i]?"F":"0";for(i=0;i<c.length;i++)d+="0"==c[i]?"F":"0";return d+(a?"0":"F")+(a?"F":"0")}function d(b,c,a){_protocol=f.PROTOCOLS[b-1];_pin=c;_repeat=a}var f={PROTOCOLS:[{pulseLength:.35,syncFactor:{high:1,low:31},zero:{high:1,low:3},one:{high:3,low:1},invertedSignal:!1},{pulseLength:.65,syncFactor:{high:1,low:10},zero:{high:1,low:2},one:{high:2,low:1},invertedSignal:!1},{pulseLength:.1,syncFactor:{high:30,low:71},zero:{high:4,
low:11},one:{high:9,low:6},invertedSignal:!1},{pulseLength:.38,syncFactor:{high:1,low:6},zero:{high:1,low:3},one:{high:3,low:1},invertedSignal:!1},{pulseLength:.5,syncFactor:{high:6,low:14},zero:{high:1,low:2},one:{high:2,low:1},invertedSignal:!1},{pulseLength:.45,syncFactor:{high:23,low:1},zero:{high:1,low:2},one:{high:2,low:1},invertedSignal:!0}]};d.prototype.send=function(b,c){var a=[];for(i=c-1;0<=i;i--)b&1<<i?(a.push(_protocol.pulseLength*_protocol.one.high),a.push(_protocol.pulseLength*_protocol.one.low)):
(a.push(_protocol.pulseLength*_protocol.zero.high),a.push(_protocol.pulseLength*_protocol.zero.low));a.push(_protocol.pulseLength*_protocol.syncFactor.high);a.push(_protocol.pulseLength*_protocol.syncFactor.low);for(nRepeat=0;nRepeat<_repeat;nRepeat++)digitalPulse(_pin,_protocol.invertedSignal?0:1,a)};d.prototype.sendTriState=function(b){for(i=length=code=0;i<b.length;i++){code<<=2;var c=b[i];"F"==c&&(code|=1);"1"==c&&(code|=3);length+=2}this.send(code,length)};d.prototype.switchOn=function(b,c){var a=
e(b,c,!0);this.sendTriState(a)};d.prototype.switchOff=function(b,c){var a=e(b,c,!1);this.sendTriState(a)};exports.connect=function(b,c,a){return new d(b,c,a)}