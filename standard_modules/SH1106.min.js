function h(c){c&&c.height&&(g[4]=c.height-1,g[13]=64==c.height?18:2);c&&c.contrast&&(g[15]=c.contrast)}var g=new Uint8Array([174,213,80,168,63,211,0,64,173,139,161,200,218,18,129,128,217,34,219,53,166,175]);exports.connect=function(c,e,f){h(f);var d=Graphics.createArrayBuffer(128,g[4]+1,1,{vertical_byte:!0}),b=60;f&&f.address&&(b=f.address);g.forEach(function(a){c.writeTo(b,[0,a])});void 0!==e&&setTimeout(e,10);d.flip=function(){var a=176,e=new Uint8Array(129);e[0]=64;for(var d=0;d<128*
g[4]/8;d+=128)c.writeTo(b,[0,a,2,16]),a++,e.set(new Uint8Array(this.buffer,d,128),1),c.writeTo(b,e)};d.setContrast=function(a){c.writeTo(b,0,129,a)};d.off=function(){c.writeTo(b,0,174)};d.on=function(){c.writeTo(b,0,175)};return d};exports.connectSPI=function(c,e,f,d,b){h(b);var a=b?b.cs:void 0;b=Graphics.createArrayBuffer(128,g[4]+1,1,{vertical_byte:!0});f&&digitalPulse(f,0,10);setTimeout(function(){a&&digitalWrite(a,0);digitalWrite(e,0);c.write(g);digitalWrite(e,1);a&&digitalWrite(a,1);void 0!==
d&&setTimeout(d,10)},50);b.flip=function(){var b=176,d=new Uint8Array(128);a&&digitalWrite(a,0);for(var f=0;f<128*g[4]/8;f+=128)digitalWrite(e,0),c.write([b,2,16]),b++,digitalWrite(e,1),d.set(new Uint8Array(this.buffer,f,128),0),c.write(d);a&&digitalWrite(a,1)};b.setContrast=function(b){a&&a.reset();c.write(129,b,e);a&&a.set()};b.off=function(){a&&a.reset();c.write(174,e);a&&a.set()};b.on=function(){a&&a.reset();c.write(175,e);a&&a.set()};return b}