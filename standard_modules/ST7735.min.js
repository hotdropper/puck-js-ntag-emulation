function l(b,d,e,c,f){function a(a,c){d.reset();b.write(a,e);void 0!==c&&(d.set(),b.write(c,e))}c?digitalPulse(c,0,10):a(1);setTimeout(function(){a(17);setTimeout(function(){a(177,[1,44,45]);a(178,[1,44,45]);a(179,[1,44,45,1,44,45]);a(180,7);a(192,[162,2,132]);a(193,197);a(194,[10,0]);a(195,[138,42]);a(196,[138,238]);a(197,14);a(32,0);a(54,200);a(58,5);a(42,[0,0,0,127]);a(43,[0,0,0,g-1]);a(224,[2,28,7,18,55,50,41,45,41,37,43,57,0,1,3,16]);a(225,[3,29,7,6,46,44,41,45,46,46,55,63,0,0,2,
16]);a(19);a(41);f&&f()},10)},100)}var g=128;exports.connect=function(b,d){var e=b.palette,c=b.spi,f=b.dc,a=b.cs,m=b.rst;b.height&&(g=b.height);var h=16<e.length?8:4<e.length?4:2<e.length?2:1;var k=Graphics.createArrayBuffer(128,g,h,{msb:!0});k.flip=function(){a.reset();c.write(42,f);c.write(0,2,0,129);c.write(43,f);c.write(0,3,0,g+2);c.write(44,f);for(var b=new Uint16Array(2048),d=0;d<g;d+=16)E.mapInPlace(new Uint8Array(k.buffer,128*d*h/8,b.length),b,e,h),c.write(b.buffer);a.set()};l(c,f,a,m,d);
return k}