function d(c,b){this.ser=c;this.digits=b;this.data=new Uint8Array(5*b);for(var a=0;a<b;a++)this.data[5*a+1]=127}exports.connect=function(c,b){return new d(c,b)};d.prototype.setTube=function(c,b,a,e,f,d,g,h){this.data[5*c]=16*a+32*e+b;this.data[5*c+1]=f;this.setLED(c,d,g,h)};d.prototype.setAllBright=function(c){for(var b=0;b<this.digits;b++)this.data[5*b+1]=c};d.prototype.setBright=function(c,b){this.data[5*c+1]=b};d.prototype.setLED=function(c,b,a,e){this.data[5*c+2]=b;this.data[5*c+3]=
a;this.data[5*c+4]=e};d.prototype.setAllLED=function(c,b,a){for(var e=0;e<this.digits;e++)this.data[5*e+2]=c,this.data[5*e+3]=b,this.data[5*e+4]=a};d.prototype.setString=function(c){for(var b=0,a=0,e=0;e<this.digits;e++)this.data[5*e]=15;for(;a<this.digits&&b<c.length;){switch(c.charAt(b)){case ".":this.data[5*a]|=16;break;case ",":this.data[5*a]|=32;break;case " ":this.data[5*a]|=10;a++;break;default:this.data[5*a]=(this.data[5*a]&240)+parseInt(c.charAt(b)),a++}b++}};d.prototype.send=function(){for(var c=
"",b=0;b<this.digits;b++)c=this.getString(b)+c;this.ser.write(c+"!")};d.prototype.getString=function(c){var b=this.data,a="$";a=10>(b[5*c]&15)?a+(b[5*c]&15):a+"-";a=b[5*c]&16?a+",Y":a+",N";a=b[5*c]&32?a+",Y":a+",N";for(var e=1;5>e;e++){var d=b[5*c+e];d=d.toFixed(0);switch(d.length){case 1:d="00"+d;break;case 2:d="0"+d}a+=","+d}return a}