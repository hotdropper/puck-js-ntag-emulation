function c(a){this.pins=a.pins;this.pattern=a.pattern||[1,2,4,8];this.offpattern=a.offpattern||0;this.pos=0;this.stepsPerSec=a.stepsPerSec||100;this.onstep=a.onstep||0}c.prototype.setHome=function(){this.pos=0};c.prototype.getPosition=function(){return this.pos};c.prototype.stop=function(a){this.interval&&(clearInterval(this.interval),this.interval=void 0);a&&digitalWrite(this.pins,this.offpattern)};c.prototype.moveTo=function(a,c,d,e){a|=0;void 0===c&&(c=1E3*Math.abs(a-this.pos)/this.stepsPerSec);
this.stop(e);if(a!=this.pos){var b=this,f=function(){b.pos==a?(b.stop(e),d&&d()):(b.pos+=a<b.pos?-1:1,digitalWrite(b.pins,b.pattern[b.pos&b.pattern.length-1]));if(b.onstep)b.onstep(b.pos)};this.interval=setInterval(f,c/Math.abs(a-this.pos));f()}else d&&setTimeout(d,c)};exports=c