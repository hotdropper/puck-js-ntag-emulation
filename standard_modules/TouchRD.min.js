var h={X:240,Y:320,xm:3,ym:3,xt:.0015,yt:.0012,xc:.496,yc:.4795,xd:.00318,yd:.00251,ti:100,db:5,en:!0},g=function(d,b,a,e,g,k,c){c=c||this;c.yn=d;c.xn=b;c.yp=a;c.xp=e;c.cb=g;for(var f in h)c[f]=f in(k||{})?k[f]:h[f];c.X2=c.X/2+.5;c.Y2=c.Y/2+.5;c.td=c.xf=c.yf=c.xr=c.yr=c.x=c.y=0;c.t=!1;c.w=null;c.enable(c.en)},e=g.prototype;e.xy=function(d,b,a){a=a||this;pinMode(a.yn,"input_pulldown");pinMode(a.yp);a.yp.read();pinMode(a.xn);pinMode(a.xp);digitalWrite([a.xn,a.xp],1);a.xr=(analogRead(a.yp)+
analogRead(a.yp))/2;pinMode(a.xn,"input_pulldown");a.xp.read();pinMode(a.yn);digitalWrite([a.yn,a.yp],1);a.yr=(analogRead(a.xp)+analogRead(a.xp))/2;a.yn.read();a.yn.read();(a.t=a.xr>a.xt&&a.yr>a.yt)?(a.x=0>(a.x=Math.floor(a.X2+(a.xr-a.xc)/a.xd))?0:a.x<a.X?a.x:a.X-1,a.y=0>(a.y=Math.floor(a.Y2+(a.yr-a.yc)/a.yd))?0:a.y<a.Y?a.y:a.Y-1,b&&(a.td=b.time,a.xf=a.x,a.yf=a.y),d&&d(a.x,a.y,a)):!b&&d&&d(void 0,void 0,a);return a};e._trk=function(d,b){b=b||this;b.w=null;b.xy(b.cb,d,b).t&&b.en?setTimeout(b._trk,
b.ti,null,b):b.enable(b.en,b)};e.moved=function(d){d=d||this;return Math.abs(d.x-d.xf)>=d.xm||Math.abs(d.y-d.yf)>=d.ym};e.enable=function(d,b){b=b||this;(b.en=!(void 0!==d&&!d))&&!b.w?(pinMode(b.xn,"input_pulldown"),pinMode(b.xp),b.xp.read(),pinMode(b.yn),pinMode(b.yp),digitalWrite([b.yn,b.yp],3),b.w=setWatch(b._trk.bind(b),b.xp,{edge:"rising",repeat:!1,debounce:b.db})):(b.w=b.w&&clearWatch(b.w),b.yn.read(),b.yn.read());return b};exports=g