exports.print=function(b,a,c){return b.gatt.connect().then(function(a){b=a;return a.getPrimaryService("000018f0-0000-1000-8000-00805f9b34fb")}).then(function(a){return a.getCharacteristic("00002af1-0000-1000-8000-00805f9b34fb")}).then(function(b){function c(d,e){a.length?(b.writeValue(a.substr(0,20)).then(function(){c(d,e)})["catch"](e),a=a.substr(20)):d()}return new Promise(c)}).then(function(){b.disconnect();c&&c()})};exports.getGraphics=function(b){var a=new Uint8Array(8+b.buffer.length+
1);a[0]=29;a[1]=118;a[2]=48;a[3]=0;a[4]=b.getWidth()>>3;a[5]=0;a[6]=b.getHeight()%255;a[7]=b.getHeight()>>8;a.set(new Uint8Array(b.buffer),8);a[a.length-1]=10;return E.toString(a)}