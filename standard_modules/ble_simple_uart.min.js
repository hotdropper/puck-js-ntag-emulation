exports.write=function(a,d,c){return a.gatt.connect().then(function(b){a=b;return b.getPrimaryService("6e400001-b5a3-f393-e0a9-e50e24dcca9e")}).then(function(b){return b.getCharacteristic("6e400002-b5a3-f393-e0a9-e50e24dcca9e")}).then(function(b){function a(c,e){d.length?(b.writeValue(d.substr(0,20)).then(function(){a(c,e)})["catch"](e),d=d.substr(20)):c()}return new Promise(a)}).then(function(){a.disconnect();c&&c()})}